
<!DOCTYPE html>


<html lang="en" data-content_root="./" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Quickstart and examples &#8212; BoARIO  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=5bd8f7bc" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=d3ce34c2"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"chtml": {"displayAlign": "left", "displayIndent": "2em"}, "loader": {"load": ["[tex]/color"]}, "tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "packages": {"[+]": ["color"]}, "macros": {"colvec": ["\\begin{bmatrix}#1 \\\\ \\vdots\\\\ #2 \\end{bmatrix}", 2], "rfirmsset": ["\\mathbf{F}^{#1}", 1], "mdefentryval": ["(#1_{#3#5}( #2 )^{#7#8})_{\\substack{#3 \\in #4 \\\\ #5 \\in #6}}", 8], "mdefentry": ["(#1_{#3#5}^{#7#8})_{\\substack{#3 \\in #4 \\\\ #5 \\in #6}}", 8], "irowsum": "\\begin{bmatrix} 1 \\\\ \\vdots \\\\ 1 \\end{bmatrix}", "isum": "\\underset{s \\times p}{\\begin{bmatrix} 1 & \\cdots & 0 & & 1 & \\cdots & 0\\\\ \\vdots & \\ddots & \\vdots & \\cdots &\\vdots & \\ddots & \\vdots\\\\ 0 & \\cdots & 1 & & 0 & \\cdots & 1 \\end{bmatrix}}", "ioorders": "\\mathbf{O}", "sectorsset": "\\mathbb{S}", "sectorssetsize": "n", "regionsset": "\\mathbb{R}", "regionssetsize": "m", "firmsset": "\\mathbb{F}", "firmssetsize": "p", "catfdset": "\\mathbb{C}^{\\textrm{fd}}", "catfdsetsize": "r", "catvaset": "\\mathbb{C}^{\\textrm{va}}", "catvasetsize": "q", "ioz": "\\mathbf{Z}", "ioy": "\\mathbf{Y}", "iov": "\\mathbf{V}", "iox": "\\mathbf{x}", "ioa": "\\mathbf{A}", "iok": "\\mathbf{K}", "ioava": "\\mathbf{A}_{\\textrm{va}}", "ioinv": "\\mathbf{\\Omega}", "Damage": "\\mathbf{\\Gamma}", "damage": "\\gamma"}}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'boario-quickstart';</script>
    <script src="_static/js/custom.js?v=e7f469e6"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quickstart example" href="notebooks/boario-quickstart.html" />
    <link rel="prev" title="Terminology" href="boario-terminology.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Apr 10, 2024"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">BoARIO  documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="user-guide.html">
                        User guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="boario-api-reference.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="development.html">
                        Contributing
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="release-note.html">
                        Release notes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="boario-references.html">
                        ARIO Academic work
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item"><p class="last-updated">
  Last updated on Apr 10, 2024.
  <br/>
</p></div>
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="user-guide.html">
                        User guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="boario-api-reference.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="development.html">
                        Contributing
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="release-note.html">
                        Release notes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="boario-references.html">
                        ARIO Academic work
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><p class="last-updated">
  Last updated on Apr 10, 2024.
  <br/>
</p></div>
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="boario-what-is.html">BoARIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="boario-installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="boario-terminology.html">Terminology</a></li>
<li class="toctree-l1 current active has-children"><a class="current reference internal" href="#">Quickstart and examples</a><input checked class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="notebooks/boario-quickstart.html">Quickstart example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="boario-events.html">How to define Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="boario-math.html">Model description</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="user-guide.html" class="nav-link">User guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Quickstart...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="quickstart-and-examples">
<span id="boario-quickstart"></span><h1>Quickstart and examples<a class="headerlink" href="#quickstart-and-examples" title="Link to this heading">#</a></h1>
<p>For the following examples, we assume you have followed installation instructions.</p>
<p>If you encounter any problems with one of the examples bellow, please <a class="reference external" href="https://github.com/spjuhel/BoARIO/issues/new">raise an issue</a>
on the repository, or <a class="reference external" href="mailto:pro&#37;&#52;&#48;sjuhel&#46;org">contact the developer</a>.</p>
<section id="quickstart-example">
<h2>Quickstart example<a class="headerlink" href="#quickstart-example" title="Link to this heading">#</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="notebooks/boario-quickstart.html">Quickstart example</a></li>
</ul>
</div>
</section>
<section id="ario-vs-ariobasemodel-vs-ariopsimodel">
<h2>ARIO vs <a class="reference internal" href="auto/boario.model_base.html#boario.model_base.ARIOBaseModel" title="boario.model_base.ARIOBaseModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARIOBaseModel</span></code></a> vs <a class="reference internal" href="auto/boario.extended_models.html#boario.extended_models.ARIOPsiModel" title="boario.extended_models.ARIOPsiModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARIOPsiModel</span></code></a><a class="headerlink" href="#ario-vs-ariobasemodel-vs-ariopsimodel" title="Link to this heading">#</a></h2>
<p>Currently, two model classes are implemented, <a class="reference internal" href="auto/boario.model_base.html#boario.model_base.ARIOBaseModel" title="boario.model_base.ARIOBaseModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARIOBaseModel</span></code></a> and <a class="reference internal" href="auto/boario.extended_models.html#boario.extended_models.ARIOPsiModel" title="boario.extended_models.ARIOPsiModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARIOPsiModel</span></code></a>.
<a class="reference internal" href="auto/boario.model_base.html#boario.model_base.ARIOBaseModel" title="boario.model_base.ARIOBaseModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARIOBaseModel</span></code></a> is essentially a theoretical implementation used to test a “simplistic and essential” version of the model, and should not
be used directly other than for developing new variants.</p>
<p><a class="reference internal" href="auto/boario.extended_models.html#boario.extended_models.ARIOPsiModel" title="boario.extended_models.ARIOPsiModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARIOPsiModel</span></code></a> mostly implements the version presented in <span id="id1">[<a class="reference internal" href="boario-references.html#id24" title="Stéphane Hallegatte. Modeling the role of inventories and heterogeneity in the assessment of the economic costs of natural disasters. Risk Analysis, 34(1):152-167, 2013. URL: https://doi.org/10.1111/risa.12090, doi:10.1111/risa.12090.">Hal13</a>]</span> for the multi-regional case,
as well as (optionally) the intermediate order mechanism presented in <span id="id2">[<a class="reference internal" href="boario-references.html#id26" title="Dabo Guan, Daoping Wang, Stephane Hallegatte, Steven J. Davis, Jingwen Huo, Shuping Li, Yangchun Bai, Tianyang Lei, Qianyu Xue, D'Maris Coffman, Danyang Cheng, Peipei Chen, Xi Liang, Bing Xu, Xiaosheng Lu, Shouyang Wang, Klaus Hubacek, and Peng Gong. Global supply-chain effects of covid-19 control measures. Nature Human Behaviour, 4(6):577-587, 2020. URL: http://dx.doi.org/10.1038/s41562-020-0896-8, doi:10.1038/s41562-020-0896-8.">GWH+20</a>]</span>.</p>
<p>One mechanism currently not implemented is the <cite>macro effect</cite> on final demand described in <span id="id3">[<a class="reference internal" href="boario-references.html#id25" title="Stéphane Hallegatte. An adaptive regional input-output model and its application to the assessment of the economic cost of katrina. Risk Analysis, 28(3):779-799, 2008. URL: https://doi.org/10.1111/j.1539-6924.2008.01046.x, doi:10.1111/j.1539-6924.2008.01046.x.">Hal08</a>]</span>. This mechanism should be implemented in a future update.</p>
</section>
<section id="iosystem-input">
<h2><code class="xref py py-class docutils literal notranslate"><span class="pre">IOSystem</span></code> input<a class="headerlink" href="#iosystem-input" title="Link to this heading">#</a></h2>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">IOSystem</span></code> given to instantiate a <a class="reference internal" href="auto/boario.extended_models.html#boario.extended_models.ARIOPsiModel" title="boario.extended_models.ARIOPsiModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARIOPsiModel</span></code></a> has to
have intermediate demand matrix <code class="docutils literal notranslate"><span class="pre">Z</span></code>, final demand matrix <code class="docutils literal notranslate"><span class="pre">Y</span></code> and gross production vector <code class="docutils literal notranslate"><span class="pre">x</span></code> as attributes, and be balanced.</p>
<p>This should be the case for all MRIO parsed with the <code class="docutils literal notranslate"><span class="pre">pymrio</span></code> package.
Refer to its <a class="reference external" href="https://pymrio.readthedocs.io/en/latest/">documentation</a> for more details.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Note that the (region,sector) Multiindexes for the matrices and vector are reordered by BoARIO to be in lexicographic order.</p>
</div>
</section>
<section id="temporal-dimension">
<span id="temporal"></span><h2>Temporal dimension<a class="headerlink" href="#temporal-dimension" title="Link to this heading">#</a></h2>
<p>The temporal dimension is an important aspect of dynamically modeling indirect economic impacts.
Historically, ARIO has been used both using weekly and daily steps, but mostly the latter case.
BoARIO’s implementation of ARIO aims at being independent of the <code class="docutils literal notranslate"><span class="pre">temporal</span> <span class="pre">unit</span></code>
considered, notably to study how this aspect affect results.</p>
<p>This means it is virtually possible to run ARIO on any temporal granularity of your choosing.</p>
<p>For efficiency purpose, this implementation allows to simulate only some <code class="docutils literal notranslate"><span class="pre">temporal</span> <span class="pre">unit</span></code> and interpolate in between.
Hence a <code class="docutils literal notranslate"><span class="pre">step</span></code> can represent multiple <code class="docutils literal notranslate"><span class="pre">temporal</span> <span class="pre">units</span></code>. Although by default, a <code class="docutils literal notranslate"><span class="pre">step</span></code> equals a <code class="docutils literal notranslate"><span class="pre">temporal</span> <span class="pre">unit</span></code> equals a <cite>day</cite> and
defaults values of characteristic times and other time related variable are accordingly expressed in number of days, these three terms are conceptually
different. For this reason we will favor the term <code class="docutils literal notranslate"><span class="pre">temporal</span> <span class="pre">unit</span></code> to designate the atomic period in the model throughout this documentation.</p>
<p>The number of <code class="docutils literal notranslate"><span class="pre">temporal</span> <span class="pre">units</span></code> to simulate can be set when instantiating the <code class="docutils literal notranslate"><span class="pre">Simulation</span></code> object like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sim</span> <span class="o">=</span> <span class="n">Simulation</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">n_temporal_units_to_sim</span><span class="o">=</span><span class="mi">730</span><span class="p">)</span>
</pre></div>
</div>
<p>By default, simulation run for 365 <cite>temporal units</cite> which are days by default.</p>
</section>
<section id="changing-the-model-parameters">
<span id="model-parameters"></span><h2>Changing the model parameters<a class="headerlink" href="#changing-the-model-parameters" title="Link to this heading">#</a></h2>
<p>There are multiple theoretical and implemented versions of the ARIO model, each
with various parameters. One objective of BoARIO is to offer an extensive,
modular and adaptable implementation of these versions, in order to allow easy
access to version comparison, parameters values exploration and modeling
improvement.</p>
<p>If you are not familiar with the model, it is strongly advised to read the <a class="reference internal" href="boario-math.html#boario-math"><span class="std std-ref">Model description</span></a> page of this documentation,
as well as <span id="id4">[<a class="reference internal" href="boario-references.html#id24" title="Stéphane Hallegatte. Modeling the role of inventories and heterogeneity in the assessment of the economic costs of natural disasters. Risk Analysis, 34(1):152-167, 2013. URL: https://doi.org/10.1111/risa.12090, doi:10.1111/risa.12090.">Hal13</a>]</span>.</p>
<p>Parameters are set when instantiating the model. The following block shows all currently available parameters as well as their default value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">ARIOPsiModel</span><span class="p">(</span>
    <span class="n">pym_mrio</span><span class="o">=</span><span class="n">mrio</span><span class="p">,</span>
    <span class="n">order_type</span><span class="o">=</span><span class="s2">&quot;alt&quot;</span><span class="p">,</span>
    <span class="n">alpha_base</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
    <span class="n">alpha_max</span><span class="o">=</span><span class="mf">1.25</span><span class="p">,</span>
    <span class="n">alpha_tau</span><span class="o">=</span><span class="mi">365</span><span class="p">,</span>
    <span class="n">rebuild_tau</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span>
    <span class="n">main_inv_dur</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
    <span class="n">monetary_factor</span><span class="o">=</span><span class="mi">10</span><span class="o">**</span><span class="mi">6</span><span class="p">,</span>
    <span class="n">temporal_units_by_step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">iotable_year_to_temporal_unit_factor</span><span class="o">=</span><span class="mi">365</span><span class="p">,</span>
    <span class="n">infinite_inventories_sect</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">inventory_dict</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">productive_capital_vector</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">productive_capital_to_VA_dict</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">psi_param</span> <span class="o">=</span> <span class="mf">0.80</span><span class="p">,</span>
    <span class="n">inventory_restoration_tau</span> <span class="o">=</span> <span class="mi">60</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Here a quick description of each parameters. Please refer to both <a class="reference internal" href="boario-math.html#boario-math"><span class="std std-ref">the mathematical description</span></a> and the <a class="reference internal" href="boario-api-reference.html#api-ref"><span class="std std-ref">API Reference</span></a> for further details.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">order_type</span></code> : Setting it to <code class="docutils literal notranslate"><span class="pre">&quot;alt&quot;</span></code> makes the model use the intermediate order mechanism described in <span id="id5">[<a class="reference internal" href="boario-references.html#id26" title="Dabo Guan, Daoping Wang, Stephane Hallegatte, Steven J. Davis, Jingwen Huo, Shuping Li, Yangchun Bai, Tianyang Lei, Qianyu Xue, D'Maris Coffman, Danyang Cheng, Peipei Chen, Xi Liang, Bing Xu, Xiaosheng Lu, Shouyang Wang, Klaus Hubacek, and Peng Gong. Global supply-chain effects of covid-19 control measures. Nature Human Behaviour, 4(6):577-587, 2020. URL: http://dx.doi.org/10.1038/s41562-020-0896-8, doi:10.1038/s41562-020-0896-8.">GWH+20</a>]</span>. Any other value makes the model use the <cite>classic</cite> order mechanism used in <span id="id6">[<a class="reference internal" href="boario-references.html#id24" title="Stéphane Hallegatte. Modeling the role of inventories and heterogeneity in the assessment of the economic costs of natural disasters. Risk Analysis, 34(1):152-167, 2013. URL: https://doi.org/10.1111/risa.12090, doi:10.1111/risa.12090.">Hal13</a>]</span> (see <a class="reference internal" href="boario-math.html#alt-orders"><span class="std std-ref">Orders shares variants</span></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">alpha_base</span></code>, <code class="docutils literal notranslate"><span class="pre">alpha_max</span></code>, <code class="docutils literal notranslate"><span class="pre">alpha_tau</span></code> respectively set the base overproduction, the maximum overproduction, and its characteristic time (in <cite>temporal unit</cite>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rebuild_tau</span></code> sets the default rebuilding or recovering characteristic time for events (this value is overridden if specified directly in the Event object)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inventory_dict</span></code> should be a dictionary of <code class="docutils literal notranslate"><span class="pre">sector:duration</span></code> format, where all sector are present and <code class="docutils literal notranslate"><span class="pre">duration</span></code> is both the initial and goal duration for this input stock.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">main_inv_dur</span></code> sets the default initial/goal inventory duration in <cite>temporal unit</cite> for all sectors if inventory_dict is not given.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">infinite_inventories_sect</span></code> should be a list of inputs never constraining production (the stocks for these input will be virtually infinite when considering stock constraints) (overridden by <code class="docutils literal notranslate"><span class="pre">inventory_dict</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">monetary_factor</span></code> should be equal to the monetary factor of the MRIO used (most of the time MRIO are in millions €/$, hence the default <span class="math notranslate nohighlight">\(10^6\)</span>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">temporal_units_by_step</span></code> the number of <cite>temporal units</cite> to simulate every step. Setting it to 5 will divide the computation time by 5, but only one every 5 <cite>temporal units</cite> will actually be simulated. See <a class="reference internal" href="#temporal"><span class="std std-ref">Temporal dimension</span></a>.</p></li>
</ul>
<ul class="simple" id="year-to-temporal-unit-factor">
<li><p><code class="docutils literal notranslate"><span class="pre">iotable_year_to_temporal_unit_factor</span></code> defines the <cite>temporal unit</cite> assuming the MRIO contains yearly values. Note that this has not been extensively tested and should be used with care.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">productive_capital_to_VA_dict</span></code> should be a dictionary of <code class="docutils literal notranslate"><span class="pre">sector:ratio</span></code> format, where ratio is an estimate of Capital Stock over Value Added ratio. This is used to estimate the capital stock of each sector. By default the ratio is 4/1 for all sectors.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">productive_capital_vector</span></code> can directly set the capital stock for all industries (ie regions*sectors sized). This overrides <code class="docutils literal notranslate"><span class="pre">kapital_to_VA_dict</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">psi_param</span></code> and <code class="docutils literal notranslate"><span class="pre">inventory_restoration_tau</span></code> : see <a class="reference internal" href="boario-math.html#boario-math-dyn"><span class="std std-ref">Model dynamics</span></a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All arguments except the mrio are keyword arguments (<cite>ie</cite> not positional), meaning you always need to specify &lt;parameter = value&gt;.
(This also means you can put them in any order). The reason for this is to make parameter setting entirely explicit.</p>
</div>
</section>
<section id="reading-the-outputs-and-saving-files">
<h2>Reading the outputs and saving files<a class="headerlink" href="#reading-the-outputs-and-saving-files" title="Link to this heading">#</a></h2>
<section id="monitoring-the-model-variables">
<span id="variables-evolution"></span><h3>Monitoring the model variables<a class="headerlink" href="#monitoring-the-model-variables" title="Link to this heading">#</a></h3>
<p>By default, simulations record the evolution of variables in temporary files, and the arrays
are accessible directly as attributes as long as the <code class="docutils literal notranslate"><span class="pre">Simulation</span></code> object exists.</p>
<p>Their available as DataFrame and contain the variables values for each regions for each sector for each temporal unit.
Each row represent a temporal unit. The columns are all the possible (region,sector) tuples, ie industries,
ordered in lexicographic order.</p>
<p>Here is a commented list of these attributes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># The realised production</span>
<span class="n">sim</span><span class="o">.</span><span class="n">production_realised</span>

<span class="c1"># The production capacity</span>
<span class="n">sim</span><span class="o">.</span><span class="n">production_capacity</span>

<span class="c1"># The share of realised production distributed to rebuilding</span>
<span class="n">sim</span><span class="o">.</span><span class="n">rebuild_prod</span>

<span class="c1"># The overproduction factor</span>
<span class="n">sim</span><span class="o">.</span><span class="n">overproduction</span>

<span class="c1"># The (total) intermediate demand (ie how much intermediate demand was addressed to sector i in region j)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">intermediate_demand</span>

<span class="c1"># The (total) final demand (note that the final demand is currently fix in the model)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">final_demand</span>

<span class="c1"># The (total) rebuild demand</span>
<span class="n">sim</span><span class="o">.</span><span class="n">rebuild_demand</span>

<span class="c1"># The amount of final demand that couldn&#39;t be satisfied</span>
<span class="n">sim</span><span class="o">.</span><span class="n">final_demand_unmet</span>

<span class="c1"># The remaining amount of destroyed (ie not recovered/rebuilt) capital</span>
<span class="n">sim</span><span class="o">.</span><span class="n">productive_capital_to_recover</span>

<span class="c1"># Note that the following array have one more dimension,</span>
<span class="c1"># their shape is (temporal units, sectors, regions*sectors)</span>
<span class="c1"># This one states for each temporal unit, for each input, for each (region,sector)</span>
<span class="c1"># if the input was limiting production. For efficiency, information is stored as a</span>
<span class="c1"># byte, -1 for False, 1 for True</span>
<span class="n">sim</span><span class="o">.</span><span class="n">limiting_inputs</span>
</pre></div>
</div>
<p>It is also possible to record the inputs stocks, but this is disabled by defaults as its shape is the same as
<code class="docutils literal notranslate"><span class="pre">limiting_inputs</span></code>, but its <code class="docutils literal notranslate"><span class="pre">dtype</span></code> is <code class="docutils literal notranslate"><span class="pre">float64</span></code>, which can very rapidly lead to huge files.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setup the recording of stocks</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">simulation</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">register_stocks</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Access the array</span>
<span class="n">sim</span><span class="o">.</span><span class="n">inputs_stocks</span>
</pre></div>
</div>
</section>
<section id="saving-indexes-parameters-and-events-simulated">
<span id="index-records"></span><h3>Saving indexes, parameters and events simulated<a class="headerlink" href="#saving-indexes-parameters-and-events-simulated" title="Link to this heading">#</a></h3>
<p>In order to keep experiments organized and reproducible,
the following arguments can be used when instantiating a
<code class="docutils literal notranslate"><span class="pre">Simulation</span></code> object:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;save_index&quot;</span></code> : <code class="docutils literal notranslate"><span class="pre">True|False</span></code>, if <code class="docutils literal notranslate"><span class="pre">True</span></code>, saves a file <code class="file docutils literal notranslate"><span class="pre">boario_output_dir/results/jsons/indexes.json</span></code>, where the indexes (regions, sectors, final demand categories, etc.) are stored.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;save_params&quot;</span></code> : <code class="docutils literal notranslate"><span class="pre">True|False</span></code>, if <code class="docutils literal notranslate"><span class="pre">True</span></code>, saves a file <code class="file docutils literal notranslate"><span class="pre">boario_output_dir/results/jsons/simulated_params.json</span></code>, where the simulation parameters are stored.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;save_events&quot;</span></code> : <code class="docutils literal notranslate"><span class="pre">True|False</span></code>, if <code class="docutils literal notranslate"><span class="pre">True</span></code>, saves a file <code class="file docutils literal notranslate"><span class="pre">boario_output_dir/results/jsons/simulated_events.json</span></code>, where the indexes (regions, sectors, final demand categories, etc.) are stored.</p></li>
</ul>
</section>
<section id="record-files">
<span id="recording"></span><h3>Record files<a class="headerlink" href="#record-files" title="Link to this heading">#</a></h3>
<p>By defaults the arrays recording the evolution of variables are temporary files,
which are deleted when the <code class="docutils literal notranslate"><span class="pre">Simulation</span></code> object is destroyed.</p>
<p>It is however possible to ask the <code class="docutils literal notranslate"><span class="pre">Simulation</span></code> object to save any selection of these raw arrays,
by giving a list and an output directory when instantiating. Here is the complete list of variables than can be saved:</p>
<p><code class="docutils literal notranslate"><span class="pre">['production_realised',</span> <span class="pre">'production_capacity',</span> <span class="pre">'final_demand',</span> <span class="pre">'intermediate_demand',</span> <span class="pre">'rebuild_demand',</span>
<span class="pre">'overproduction',</span> <span class="pre">'final_demand_unmet',</span> <span class="pre">'rebuild_prod',</span> <span class="pre">'inputs_stocks',</span> <span class="pre">'limiting_inputs',</span> <span class="pre">'kapital_to_recover']</span></code></p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p><code class="docutils literal notranslate"><span class="pre">inputs_stocks</span></code> still requires the argument <code class="docutils literal notranslate"><span class="pre">register_stocks</span></code> to be True in order for the file to be saved.</p>
</div>
<p>For example the following code will create the files <code class="docutils literal notranslate"><span class="pre">&quot;production_realised&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;final_demand_unmet&quot;</span></code>
in the specified folder (or to a temporary directory prefixed by <code class="docutils literal notranslate"><span class="pre">&quot;boario&quot;</span></code> by default).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sim</span> <span class="o">=</span> <span class="n">Simulation</span><span class="p">(</span>
    <span class="n">model</span><span class="p">,</span>
    <span class="n">save_records</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;production_realised&quot;</span><span class="p">,</span> <span class="s2">&quot;final_demand_unmet&quot;</span><span class="p">],</span>
    <span class="n">boario_output_dir</span><span class="o">=</span><span class="s2">&quot;folder of your choosing/&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Files saved like this are raw numpy arrays and can then be read with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># For all records except limiting_inputs and inputs_stocks</span>
<span class="n">np</span><span class="o">.</span><span class="n">memmap</span><span class="p">(</span>
    <span class="s2">&quot;path/to/file&quot;</span><span class="p">,</span>
    <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;r+&quot;</span><span class="p">,</span>
    <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;float64&quot;</span><span class="p">,</span>
    <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">n_temporal_units</span><span class="p">,</span> <span class="n">n_sectors</span> <span class="o">*</span> <span class="n">n_regions</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># For limiting_inputs</span>
<span class="n">np</span><span class="o">.</span><span class="n">memmap</span><span class="p">(</span>
    <span class="s2">&quot;path/to/file&quot;</span><span class="p">,</span>
    <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;r+&quot;</span><span class="p">,</span>
    <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;byte&quot;</span><span class="p">,</span>
    <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">n_sectors</span> <span class="o">*</span> <span class="n">n_temporal_units</span><span class="p">,</span> <span class="n">n_sectors</span> <span class="o">*</span> <span class="n">n_regions</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># For inputs_stocks</span>
<span class="n">np</span><span class="o">.</span><span class="n">memmap</span><span class="p">(</span>
    <span class="s2">&quot;path/to/file&quot;</span><span class="p">,</span>
    <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;r+&quot;</span><span class="p">,</span>
    <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;float64&quot;</span><span class="p">,</span>
    <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">n_sectors</span> <span class="o">*</span> <span class="n">n_temporal_units</span><span class="p">,</span> <span class="n">n_sectors</span> <span class="o">*</span> <span class="n">n_regions</span><span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="boario-terminology.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Terminology</p>
      </div>
    </a>
    <a class="right-next"
       href="notebooks/boario-quickstart.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Quickstart example</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quickstart-example">Quickstart example</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ario-vs-ariobasemodel-vs-ariopsimodel">ARIO vs <code class="xref py py-class docutils literal notranslate"><span class="pre">ARIOBaseModel</span></code> vs <code class="xref py py-class docutils literal notranslate"><span class="pre">ARIOPsiModel</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#iosystem-input"><code class="xref py py-class docutils literal notranslate"><span class="pre">IOSystem</span></code> input</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#temporal-dimension">Temporal dimension</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changing-the-model-parameters">Changing the model parameters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-the-outputs-and-saving-files">Reading the outputs and saving files</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monitoring-the-model-variables">Monitoring the model variables</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#saving-indexes-parameters-and-events-simulated">Saving indexes, parameters and events simulated</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#record-files">Record files</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/spjuhel/BoARIO/edit/master/boario-quickstart.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="_sources/boario-quickstart.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2022, Samuel Juhel.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>